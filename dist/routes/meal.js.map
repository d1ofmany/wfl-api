{"version":3,"sources":["../../src/routes/meal.js"],"names":["mealRoute","app","get","req","res","find","err","data","console","log","json","post","meal","name","body","save","findById","params","id","findByIdAndUpdate","$set","new","delete","remove"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAEA,IAAMA,YAAY,SAAZA,SAAY,CAACC,GAAD,EAAS;AACvBA,QAAIC,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5B,uBAAKC,IAAL,CAAU,EAAV,EAAc,UAACC,GAAD,EAAMC,IAAN,EAAe;AACzB,gBAAID,GAAJ,EAAS;AAAEE,wBAAQC,GAAR,CAAYH,GAAZ;AAAmB;;AAE9BF,gBAAIM,IAAJ,CAASH,IAAT;AACH,SAJD;AAKH,KAND;AAOAN,QAAIU,IAAJ,CAAS,OAAT,EAAkB,UAACR,GAAD,EAAMC,GAAN,EAAc;AAC5B,YAAIQ,OAAO,mBAAS,EAAEC,MAAMV,IAAIW,IAAJ,CAASD,IAAjB,EAAT,CAAX;;AAEAD,aAAKG,IAAL,CAAU,UAAUT,GAAV,EAAeC,IAAf,EAAqB;AAC3B,gBAAID,GAAJ,EAAS;AAAEE,wBAAQC,GAAR,CAAYH,GAAZ;AAAmB;;AAE9BF,gBAAIM,IAAJ,CAASH,IAAT;AACH,SAJD;AAKH,KARD;AASAN,QAAIC,GAAJ,CAAQ,WAAR,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,uBAAKY,QAAL,CAAcb,IAAIc,MAAJ,CAAWC,EAAzB,EAA6B,UAACZ,GAAD,EAAMC,IAAN,EAAe;AACxC,gBAAID,GAAJ,EAAS;AAAEE,wBAAQC,GAAR,CAAYH,GAAZ;AAAmB;;AAE9BF,gBAAIM,IAAJ,CAASH,IAAT;AACH,SAJD;AAKH,KAND;AAOAN,QAAIU,IAAJ,CAAS,WAAT,EAAsB,UAACR,GAAD,EAAMC,GAAN,EAAc;AAChC,uBAAKe,iBAAL,CAAuBhB,IAAIc,MAAJ,CAAWC,EAAlC,EAAsC,EAAEE,MAAM,EAAEP,MAAMV,IAAIW,IAAJ,CAASD,IAAjB,EAAR,EAAtC,EAAyE,EAAEQ,KAAK,IAAP,EAAzE,EAAuF,UAACf,GAAD,EAAMC,IAAN,EAAe;AAClG,gBAAID,GAAJ,EAAS;AAAEE,wBAAQC,GAAR,CAAYH,GAAZ;AAAmB;;AAE9BF,gBAAIM,IAAJ,CAASH,IAAT;AACH,SAJD;AAKH,KAND;AAOAN,QAAIqB,MAAJ,CAAW,WAAX,EAAwB,UAACnB,GAAD,EAAMC,GAAN,EAAc;AAClC,uBAAKY,QAAL,CAAcb,IAAIc,MAAJ,CAAWC,EAAzB,EAA6B,UAACZ,GAAD,EAAMC,IAAN,EAAe;AACxC,gBAAID,GAAJ,EAAS;AAAEE,wBAAQC,GAAR,CAAYH,GAAZ;AAAmB;AAC9B,gBAAIC,IAAJ,EAAU;AACNA,qBAAKgB,MAAL;AACAnB,oBAAIM,IAAJ,CAAS,EAAE,WAAW,IAAb,EAAT;AACH,aAHD,MAGO;AACHN,oBAAIM,IAAJ,CAAS,EAAE,WAAW,KAAb,EAAT;AACH;AAEJ,SATD;AAUH,KAXD;AAYH,CA3CD;;kBA6CeV,S","file":"meal.js","sourcesContent":["import '../db/connect';\nimport Meal from '../db/Meal';\n\nconst mealRoute = (app) => {\n    app.get('/meals', (req, res) => {\n        Meal.find({}, (err, data) => {\n            if (err) { console.log(err); }\n            \n            res.json(data);\n        });\n    });\n    app.post('/meal', (req, res) => {\n        var meal = new Meal({ name: req.body.name });\n\n        meal.save(function (err, data) {\n            if (err) { console.log(err); }\n            \n            res.json(data);\n        });\n    });\n    app.get('/meal/:id', (req, res) => {\n        Meal.findById(req.params.id, (err, data) => {\n            if (err) { console.log(err); }\n            \n            res.json(data);\n        });\n    });\n    app.post('/meal/:id', (req, res) => {\n        Meal.findByIdAndUpdate(req.params.id, { $set: { name: req.body.name } }, { new: true },(err, data) => {\n            if (err) { console.log(err); }\n            \n            res.json(data);\n        });\n    });\n    app.delete('/meal/:id', (req, res) => {\n        Meal.findById(req.params.id, (err, data) => {\n            if (err) { console.log(err); }\n            if (data) {\n                data.remove();\n                res.json({ \"removed\": true });\n            } else {\n                res.json({ \"removed\": false });\n            }\n            \n        });\n    });\n}\n\nexport default mealRoute;"]}